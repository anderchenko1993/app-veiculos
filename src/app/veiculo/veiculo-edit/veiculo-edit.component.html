<div class="container">
  <mat-card>
    <mat-card-title *ngIf="isAddMode">Cadastrar Veículo</mat-card-title>
    <mat-card-title *ngIf="!isAddMode">Editar Veículo</mat-card-title>

    <mat-card-content>
      <form [formGroup]="veiculoForm" (submit)="onSubmit()">
        <mat-form-field>
          <mat-label>Veículo</mat-label>
          <input type="text" formControlName="veiculo" matInput>

          <app-mensagem
            *ngIf="
              veiculoForm.get('veiculo')?.errors?.required &&
              veiculoForm.get('veiculo')?.touched"
              mensagem="Veículo é obrigatório">
          </app-mensagem>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Marca</mat-label>
          <input type="text" formControlName="marca" matInput>

          <app-mensagem
            *ngIf="
              veiculoForm.get('marca')?.errors?.required &&
              veiculoForm.get('marca')?.touched"
              mensagem="Marca é obrigatório">
          </app-mensagem>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Ano</mat-label>
          <input type="number" formControlName="ano" matInput>

          <app-mensagem
            *ngIf="
              veiculoForm.get('ano')?.errors?.required &&
              veiculoForm.get('ano')?.touched"
              mensagem="Ano é obrigatório">
          </app-mensagem>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Descrição</mat-label>
          <textarea type="text" formControlName="descricao" matInput></textarea>

          <app-mensagem
            *ngIf="
              veiculoForm.get('descricao')?.errors?.required &&
              veiculoForm.get('descricao')?.touched"
              mensagem="Descrição é obrigatório">
          </app-mensagem>
        </mat-form-field>

        <mat-form-field>
          <mat-label>Vendido</mat-label>
          <select matNativeControl formControlName="vendido">
            <option option="#"></option>
            <option value="1">Sim</option>
            <option value="0">Não</option>
          </select>

          <app-mensagem
            *ngIf="
              veiculoForm.get('vendido')?.errors?.required &&
              veiculoForm.get('vendido')?.touched"
              mensagem="Vendido é obrigatório">
          </app-mensagem>
        </mat-form-field>

        <mat-card-actions>
          <button type="submit" [disabled]="veiculoForm.invalid" mat-flat-button>Salvar</button>
          <button type="button" mat-stroked-button [routerLink]="['/']">Voltar</button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>
</div>

